<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Session</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://aka.ms/csspeech/jsbrowserpackageraw" crossorigin="anonymous"></script>
  <style>
    html, body { margin: 0; padding: 0; height: 100%; overflow: hidden; background: transparent; }
    .session-bar-container { width: 100%; height: 100%; -webkit-app-region: no-drag; }
    .app-header .header-btn, .app-header .header-label, .app-header .header-spacer,
    .app-header .header-timer, .app-header .header-label,
    .app-header-left, .app-header-center, .app-header-right,
    .bar-manual-section, .bar-manual-section * { -webkit-app-region: no-drag; }
    .bar-manual-section, .bar-manual-section * { -webkit-app-region: no-drag; }
  </style>
</head>
<body>
  <div class="session-bar-container" id="session-bar-container">
    <header class="app-header">
      <div class="app-header-left">
        <button type="button" class="header-btn icon-btn" id="btn-mic" title="Microphone (toggle)">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2a3 3 0 0 1 3 3v6a3 3 0 0 1-6 0V5a3 3 0 0 1 3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="22"/></svg>
        </button>
        <button type="button" class="header-btn icon-btn" id="btn-system-audio" title="System audio (toggle)">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/></svg>
        </button>
        <button type="button" class="header-btn icon-btn" id="btn-manual" title="Manual mode (M)">
          <span>M</span>
        </button>
        <button type="button" class="header-btn icon-btn" id="btn-ai-bar" title="Ask AI now (uses mic + text, Shift+Enter)">
          <span>AI</span>
        </button>
        <button type="button" class="header-btn icon-btn" id="btn-photo-analysis" title="Take screenshot and analyze (uses current question as context)">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="M21 15l-5-5L5 21"/></svg>
        </button>
      </div>
      <div class="app-header-center">
        <button type="button" class="header-btn icon-btn bar-wave-btn" id="btn-transcribe" title="Transcribe (toggle history)">
          <span id="bar-wave-indicator" class="bar-wave-indicator bar-wave-icon" aria-hidden="true">
            <span class="bar-wave-bar"></span>
            <span class="bar-wave-bar"></span>
            <span class="bar-wave-bar"></span>
            <span class="bar-wave-bar"></span>
            <span class="bar-wave-bar"></span>
          </span>
        </button>
      </div>
      <div class="app-header-right">
        <button type="button" class="header-btn header-btn-end-with-timer" id="btn-end-session" title="End session">
          <svg class="end-session-icon" width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><rect x="6" y="4" width="4" height="16" rx="1"/><rect x="14" y="4" width="4" height="16" rx="1"/></svg>
          <span id="bar-timer" class="header-timer">0:00</span>
          <span id="bar-credit" class="header-credit" title="Available time">0:00</span>
        </button>
        <span class="header-spacer"></span>
        <button type="button" class="header-btn icon-btn" id="btn-position" title="Move window position">
          <svg class="position-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 9l-3 3 3 3"/><path d="M9 5l3-3 3 3"/><path d="M15 19l-3 3-3-3"/><path d="M19 9l3 3-3 3"/><path d="M2 12h20"/><path d="M12 2v20"/></svg>
        </button>
        <button type="button" class="header-btn collapse-btn" id="btn-collapse" title="Collapse">
          <svg class="collapse-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M18 15l-6-6-6 6"/></svg>
        </button>
      </div>
    </header>
    <div id="bar-manual-section" class="bar-manual-section hidden">
      <input type="text" id="bar-question-input" class="question-tube bar-question-input bar-question-input-small" autocomplete="off" placeholder="Ask a questionâ€¦" tabindex="0" />
      <button type="button" id="bar-btn-send" class="ask-ai-btn ask-ai-btn-small ask-ai-btn-icon" title="Send">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 2L11 13"/><path d="M22 2L15 22L11 13L2 9L22 2Z"/></svg>
      </button>
    </div>
  </div>
  <script src="bar.js"></script>
</body>
</html>
